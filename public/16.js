(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{TUlD:function(t,e,a){"use strict";a.r(e);var n=a("L2JU"),r=a("EmcK");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var i={name:"AccountPayment",layout:function(t,e){return t(r.default,[e])},metaInfo:function(){return{title:"Payment setup ".concat(this.account.at_username),titleTemplate:"%s - AcadaApp"}},data:function(){return{loading:null,form:{}}},props:{account:Object,gateways:Array},computed:o(o({},Object(n.c)({auth:function(t){return t.auth},authenticated:function(t){return t.authenticated}})),{},{errors:function(){return this.$page.errors}}),methods:{saveGateway:function(t){var e=this;this.loading=t;var a=o({gateway:this.gateways[t].gateway},this.gateways[t].data);axios.post(this.route("account.payment.gateway.store",{account:this.account.username}),a).then((function(a){e.gateways[t].data=a.data,toastr.success("".concat(e.gateways[t].gateway_name," settings saved"))})).catch((function(a){toastr.error("".concat(e.gateways[t].gateway_name," settings not saved"))})).finally((function(){e.loading=null}))}},mounted:function(){}},u=a("KHd+"),l=Object(u.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"8",lg:"6"}},[a("h4",[t._v("Payment Gateways")]),t._v(" "),a("v-expansion-panels",{attrs:{popout:"",focusable:""}},t._l(t.gateways,(function(e,n){return a("v-expansion-panel",{key:n},[a("v-expansion-panel-header",[t._v("\n                    "+t._s(e.gateway_name)+"\n                    "),a("v-spacer"),t._v(" "),e.data.credentials_complete?a("v-icon",{attrs:{color:"success",title:"Credentials complete"}},[t._v("check_circle")]):a("v-icon",{attrs:{color:"red",title:"Some credentials are missing"}},[t._v("report_problem")])],1),t._v(" "),a("v-expansion-panel-content",[a("div",{staticClass:"my-3"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.saveGateway(n)}}},[a("v-switch",{attrs:{label:"Activate "+e.gateway_name},model:{value:e.data.active,callback:function(a){t.$set(e.data,"active",a)},expression:"gateway.data.active"}}),t._v(" "),e.data.active?[t._l(e.credentials,(function(n,r){return[a("x-input",{key:r,attrs:{errors:t.errors,name:n.slug,label:n.name},model:{value:e.data.credentials[n.slug],callback:function(a){t.$set(e.data.credentials,n.slug,a)},expression:"gateway.data.credentials[credential.slug]"}})]}))]:t._e(),t._v(" "),a("x-button",{attrs:{type:"sumbit",loading:t.loading==n,color:t.account.theme_color,dark:""}},[t._v("Save")])],2)])])],1)})),1)],1)],1)],1)}),[],!1,null,null,null);e.default=l.exports}}]);